/**
* 判断是否是utf8编码并转换
*/
protected function strToUtf8($str)
{
  if (mb_detect_encoding($str, 'UTF-8', true) === false) {
      $str = utf8_encode($str); //判断是否为utf8编码
  }
  return $str;
}


/**
 * 获取$_POST参数
 * @param null $name
 * @param null $default
 * @return null
 */
protected function p($name = null, $default = null)
{
    if ( $name === null )
    {
        return $_POST;
    }
    return isset($_POST[$name]) ? $this->strToUtf8(trim($_POST[$name])) : $default;
}
